{% extends 'main.html' %}
{% load static %}

{% block content %}

{% include 'message.html' %}

<div class="container my-5">
    <div class="main-body">
        <div class="row">

            <div class="col-lg-4">
                <div class="card">
                    <div class="card-body">
                        <div class="d-flex flex-column align-items-center text-center">
                            <img src="{{user.profile.image.url}}" alt="{{user.profile.user.username}}"
                                class="rounded-circle border border-dark border-5" width="110" height="110"
                                style="object-fit: cover;">
                            <div class="mt-3">
                                <h4><b>{{user}}</b></h4>
                                <p class="text-secondary mb-3">{{user.email}}</p>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

            <div class="col-lg-8">
                <div class="card">
                    <div class="card-body">

                        <form action="" method="POST">
                            {% csrf_token %}

                            {% if title == 'Edit Profile' %}
                            <!-- Profile -->
                            <div class="row mb-3">
                                <h5><b>Profile</b></h5>
                                <hr>
                            </div>

                            <div class="row mb-3">
                                <div class="col-sm-3">
                                    <h6 class="mb-0">Full Name</h6>
                                </div>
                                <div class="col-sm-9 text-secondary">
                                    <input type="text" class="form-control" value="{{user.profile.fullname}}"
                                        name="fullname" maxlength="50" autocomplete="off">
                                </div>
                            </div>

                            <div class="row mb-3">
                                <div class="col-sm-3">
                                    <h6 class="mb-0">Gender</h6>
                                </div>
                                <div class="col-sm-9 text-secondary">
                                    <select id="gender" name="gender" class="form-control">
                                        {% if user.profile.gender == 'M' %}
                                        <option value="M" selected>Male</option>
                                        <option value="F">Female</option>
                                        <option value="G">-----Gender-----</option>

                                        {% elif user.profile.gender == 'F' %}
                                        <option value="M">Male</option>
                                        <option value="F" selected>Female</option>
                                        <option value="G">-----Gender----</option>

                                        {% else %}
                                        <option value="M">Male</option>
                                        <option value="F">Female</option>
                                        <option value="G" selected>-----Gender-----</option>
                                        {% endif %}
                                    </select>
                                </div>
                            </div>

                            <div class="row mb-3">
                                <div class="col-sm-3">
                                    <h6 class="mb-0">Mobile Phone</h6>
                                </div>
                                <div class="col-sm-9 text-secondary">
                                    <input type="text" class="form-control" value="{{user.profile.mobile_phone}}"
                                        name="mobilephone" maxlength="15" autocomplete="off">
                                </div>
                            </div>

                            <div class="row mb-3">
                                <div class="col-sm-3">
                                    <h6 class="mb-0">Address</h6>
                                </div>
                                <div class="col-sm-9 text-secondary">
                                    <input type="text" class="form-control" value="{{user.profile.address}}"
                                        name="address" autocomplete="off">
                                </div>
                            </div>
                            <!-- End of Profile -->

                            {% else %}
                            <!-- Account -->
                            <div class="row">
                                <h5><b>Account</b></h5>
                                <hr>
                            </div>

                            <div class="row mb-3">
                                <div class="col-sm-3">
                                    <h6 class="mb-0">Email</h6>
                                </div>
                                <div class="col-sm-9 text-secondary">
                                    <input type="text" class="form-control" value="{{user.email}}" name="email"
                                        autocomplete="off">
                                </div>
                            </div>

                            <div class="row mb-3">
                                <div class="col-sm-3">
                                    <h6 class="mb-0">New Password</h6>
                                </div>
                                <div class="col-sm-9 text-secondary">
                                    <input type="text" class="form-control" name="password">
                                </div>
                            </div>
                            {% endif %}
                            <!-- End of Account -->

                            <div class="row">
                                <div class="col-sm-3"></div>
                                <div class="col-sm-9 text-secondary">
                                    <button type="submit" class="btn btn-dark px-4 me-2">Save</button>
                                    <a class="btn btn-outline-dark px-4" href="/myprofile">Cancel</a>
                                </div>
                            </div>

                        </form>
                    </div>
                </div>
                <br><br><br><br><br><br>

            </div>
        </div>
    </div>
</div>

<br><br><br>
{% endblock content %}